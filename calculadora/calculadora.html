<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>Calculadora </title>
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet">
<style>
  :root{
    --bg:#ffe6f1; --bg2:#ffd3e7; --ink:#3b3b3b; --panel:#fff0f6; --btn:#ff7fb3;
    --op:#ffa3cf; --eq:#ff4f9a; --shadow:0 12px 28px rgba(255,105,180,.25);
  }
  *{box-sizing:border-box}
  body{
    margin:0; min-height:100vh; display:grid; place-items:center;
    font-family:Poppins,system-ui,Arial; color:var(--ink);
    background:linear-gradient(135deg,var(--bg),var(--bg2));
  }
  .wrap{
    width:min(92vw,360px); background:var(--panel); border-radius:26px; padding:18px;
    box-shadow:var(--shadow);
  }
  .display{
    height:88px; border-radius:18px; padding:14px 16px; background:white;
    display:flex; flex-direction:column; justify-content:center; gap:4px;
    box-shadow:inset 0 0 0 2px rgba(255,105,180,.08);
  }
  .expr{font-size:14px; opacity:.6; overflow:hidden; white-space:nowrap; text-overflow:ellipsis}
  .value{font-size:32px; font-weight:600; text-align:right}
  .grid{
    margin-top:14px;
    display:grid; grid-template-columns:repeat(4,1fr); gap:12px;
  }
  button{
    border:0; border-radius:16px; height:60px; font-size:18px; font-weight:600; cursor:pointer;
    background:var(--btn); color:#fff; box-shadow:var(--shadow);
    transition:transform .06s ease;
    user-select:none;
  }
  button:active{transform:translateY(1px)}
  .op{background:var(--op)}
  .eq{background:var(--eq)}
  .ghost{background:#ffffff; color:#ff4f9a; box-shadow:var(--shadow)}
  .span2{grid-column:span 2}
</style>
</head>
<body>
  <div class="wrap">
    <div class="display">
      <div class="expr" id="expr"> </div>
      <div class="value" id="out">0</div>
    </div>
    <div class="grid">
      <button class="ghost" data-key="AC">AC</button>
      <button class="ghost" data-key="DEL">⌫</button>
      <button class="op" data-key="/">÷</button>
      <button class="op" data-key="*">×</button>

      <button data-key="7">7</button>
      <button data-key="8">8</button>
      <button data-key="9">9</button>
      <button class="op" data-key="-">−</button>

      <button data-key="4">4</button>
      <button data-key="5">5</button>
      <button data-key="6">6</button>
      <button class="op" data-key="+">+</button>

      <button data-key="1">1</button>
      <button data-key="2">2</button>
      <button data-key="3">3</button>
      <button class="eq" data-key="=">=</button>

      <button class="span2" data-key="0">0</button>
      <button data-key=".">.</button>
      <button class="op" data-key="(">(</button>
      <button class="op" data-key=")">)</button>
    </div>
  </div>

<script>
  const out = document.getElementById('out');
  const exprEl = document.getElementById('expr');
  let expr = '';

  function print(){ exprEl.textContent = expr || ' '; }

  function press(k){
    if(k==='AC'){ expr=''; out.textContent='0'; print(); return; }
    if(k==='DEL'){ expr=expr.slice(0,-1); print(); return; }
    if(k==='='){ calc(); return; }
    expr += k; print();
  }

  function calc(){
    const safe = expr.replace(/[^0-9+\-*/(). ]/g,'');
    if(!safe) return;
    try {
      const r = Function('"use strict"; return (' + safe + ')')();
      if (typeof r === 'number' && isFinite(r)) {
        out.textContent = String(r);
      } else {
        out.textContent = 'Error';
      }
    } catch (e) {
      out.textContent = 'Error';
    }
  }

  document.querySelectorAll('button').forEach(b=>{
    b.addEventListener('click',()=>press(b.dataset.key));
  });

  window.addEventListener('keydown',e=>{
    const k = e.key;
    if('0123456789.+-*/()'.includes(k)) press(k);
    else if(k==='Enter') press('=');
    else if(k==='Backspace') press('DEL');
    else if(k.toLowerCase()==='c') press('AC');
  });

  print();
</script>
</body>
</html>
